{"ast":null,"code":"import _toConsumableArray from \"/Users/roman/Downloads/react-project-10-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/roman/Downloads/react-project-10-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/roman/Downloads/react-project-10-main/src/components/Shop.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport uuid from 'react-uuid';\nimport AddItem from './AddItem';\nimport ItemsList from './ItemList';\nexport default function Shop() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    item = _useState2[0],\n    setItem = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    discription = _useState4[0],\n    setDescription = _useState4[1];\n  var _useState5 = useState(function () {\n      if (!JSON.parse(localStorage.getItem('items') || \"\")) {\n        return [];\n      }\n      return JSON.parse(localStorage.getItem('items') || \"\");\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    items = _useState6[0],\n    setItems = _useState6[1];\n  var requestOptions = {\n    method: 'POST',\n    body: JSON.stringify({\n      name: item,\n      desc: discription\n    }),\n    headers: {\n      'Content-type': 'application/json'\n    }\n  };\n  useEffect(function () {\n    localStorage.setItem('items', JSON.stringify(items));\n    if (items.length) {\n      document.title = \"\".concat(items.length, \" \\u0442\\u043E\\u0432\\u0430\\u0440\\u043E\\u0432\");\n    }\n    if (!items.length) {\n      document.title = 'Товары отсутствуют';\n    }\n  }, [items]);\n  var hendleSubmitButton = function hendleSubmitButton(event) {\n    if (!item || !discription) {\n      alert('Пожалуйста, заполните все поля');\n      event.preventDefault();\n      return;\n    }\n    event.preventDefault();\n    setItems([].concat(_toConsumableArray(items), [{\n      id: uuid(),\n      name: item,\n      desc: discription\n    }]));\n    fetch('https://learn.guidedao.xyz/api/student/products', requestOptions).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return console.log(data);\n    }).catch(function (error) {\n      return console.error(error);\n    });\n    setDescription('');\n    setItem('');\n  };\n  var handleDeliteButton = function handleDeliteButton(id) {\n    setItems(function (oldValues) {\n      return oldValues.filter(function (itm) {\n        return itm.id !== id;\n      });\n    });\n  };\n  var handleItemChange = function handleItemChange(event) {\n    setItem(event.target.value);\n  };\n  var handleDiscriptionChange = function handleDiscriptionChange(event) {\n    setDescription(event.target.value);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AddItem, {\n    item: item,\n    discription: discription,\n    onSubmitButton: hendleSubmitButton,\n    onItemChange: handleItemChange,\n    onDiscriptionChange: handleDiscriptionChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), !items.length ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ui-title py-3 px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0432\\u044B\\u0439 \\u0442\\u043E\\u0432\\u0430\\u0440\")) : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(ItemsList, {\n    items: items,\n    onDeliteButton: handleDeliteButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["React","useState","useEffect","uuid","AddItem","ItemsList","Shop","_useState","_useState2","_slicedToArray","item","setItem","_useState3","_useState4","discription","setDescription","_useState5","JSON","parse","localStorage","getItem","_useState6","items","setItems","requestOptions","method","body","stringify","name","desc","headers","length","document","title","concat","hendleSubmitButton","event","alert","preventDefault","_toConsumableArray","id","fetch","then","response","json","data","console","log","catch","error","handleDeliteButton","oldValues","filter","itm","handleItemChange","target","value","handleDiscriptionChange","createElement","Fragment","onSubmitButton","onItemChange","onDiscriptionChange","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onDeliteButton"],"sources":["/Users/roman/Downloads/react-project-10-main/src/components/Shop.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport uuid from 'react-uuid'\nimport AddItem from './AddItem'\nimport ItemsList from './ItemList'\n\nexport default function Shop() {\n  const [item, setItem] = useState('')\n  const [discription, setDescription] = useState('')\n  const [items, setItems] = useState(() => {\n    if (!JSON.parse(localStorage.getItem('items') || \"\")) {\n      return []\n    }\n    return JSON.parse(localStorage.getItem('items') || \"\")\n  })\n\n  const requestOptions = {\n    method: 'POST',\n    body: JSON.stringify({\n      name: item,\n      desc: discription,\n    }),\n    headers: { 'Content-type': 'application/json' },\n  }\n\n  useEffect(() => {\n    localStorage.setItem('items', JSON.stringify(items))\n    if (items.length) {\n      document.title = `${items.length} товаров`\n    }\n    if (!items.length) {\n      document.title = 'Товары отсутствуют'\n    }\n  }, [items])\n\n  const hendleSubmitButton = (event: any) => {\n    if (!item || !discription) {\n      alert('Пожалуйста, заполните все поля')\n      event.preventDefault()\n      return\n    }\n\n    event.preventDefault()\n    setItems([...items, { id: uuid(), name: item, desc: discription }])\n\n    fetch('https://learn.guidedao.xyz/api/student/products', requestOptions)\n      .then((response) => response.json())\n      .then((data) => console.log(data))\n      .catch((error) => console.error(error))\n\n    setDescription('')\n    setItem('')\n  }\n\n  const handleDeliteButton = (id: number) => {\n    setItems((oldValues: any) => {\n      return oldValues.filter((itm: any) => itm.id !== id)\n    })\n  }\n\n  const handleItemChange = (event: any) => {\n    setItem(event.target.value)\n  }\n\n  const handleDiscriptionChange = (event: any) => {\n    setDescription(event.target.value)\n  }\n\n  return (\n    <>\n      <AddItem\n        item={item}\n        discription={discription}\n        onSubmitButton={hendleSubmitButton}\n        onItemChange={handleItemChange}\n        onDiscriptionChange={handleDiscriptionChange}\n      />\n\n      {!items.length ? (\n        <div>\n          <p className=\"ui-title py-3 px-4\">Добавьте первый товар</p>\n        </div>\n      ) : (\n        <></>\n      )}\n\n      <ItemsList items={items} onDeliteButton={handleDeliteButton} />\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}